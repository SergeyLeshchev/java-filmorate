Filmorate — это бэкенд-сервис для рекомендаций фильмов (аналог Кинопоиска/TV Time). Пользователи могут добавлять фильмы, ставить лайки, добавлять друзей и получать персональные рекомендации.
------------------------
Технологический стек
Backend: Java 21, Spring Boot, Spring MVC, Spring JDBC
База данных: PostgreSQL, JDBC Template
Архитектура: Слоистая MVC (Controller-Service-Repository), DTO паттерн
Сборка: Maven
Тестирование: JUnit 5
------------------------
Ключевые функции
Управление фильмами: CRUD операции
Система лайков: Пользователи могут лайкать фильмы
Рейтинги и рекомендации: Топ популярных фильмов по количеству лайков
Социальные функции: Добавление друзей, список общих друзей
Жанры и рейтинги MPA: Поддержка категорий и возрастных рейтингов
Валидация: Проверка данных на всех уровнях
------------------------
Архитектура и оптимизации
Слоистая архитектура: Четкое разделение ответственности (Controller → Service → Repository)
Паттерн Data Mapper: Отдельные DTO для API и Entity для БД
Абстрактный репозиторий: BaseStorage с общими CRUD операциями, уменьшающий дублирование кода
------------------------
Оптимизация запросов:
Пакетные операции (jdbc.batchUpdate) для массовой вставки жанров
Сложные SQL-запросы с JOIN для получения связанных данных за один вызов
Кэширование популярных фильмов на уровне сервиса
Обработка ошибок: Единый механизм через кастомные исключения (NotFoundException, ConditionsNotMetException)

![На данной диаграмме БД изображена схема связей между таблицами.](https://raw.githubusercontent.com/SergeyLeshchev/java-filmorate/main/dbdiagram.png)

Примеры некоторых запросов:  
Для получения списка с названиями фильмов:  
SELECT name  
FROM movie;  

Для получения названия фильма по id:  
SELECT name  
FROM movie  
WHERE film_id = {id}; -- вставьте id на место {id}  

Запрос для проверки статуса дружбы между пользователями:  
SELECT status  
FROM user_friend  
WHERE user_id = {user_id} -- вставьте на место {user_id} id пользователя  
      AND friend_id = {friend_id}; -- вставьте на место {friend_id} id предполагаемого друга  
